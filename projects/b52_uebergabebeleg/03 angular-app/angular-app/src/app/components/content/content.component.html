<div class="m-2">
    <h2 class="mt-4 text-md text-dark">Inhalt</h2>
    <form [formGroup]="contentForm">
        <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
            <mat-tab [label]="'Token (' + getTokenArrayLength() + ')'">
                <div class="flex flex-row-reverse">
                    <button class="p-2 bg-secondary text-accent rounded shadow-lg" (click)="addToken()">
                        <div class="h-6 w-6">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" fill="none"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6" /></svg>
                        </div>
                    </button>
                </div>
                <div class="flex flex-col" formArrayName="token">
                    <div class="flex flex-row items-end" *ngFor="let element of tokenArray.controls; let i = index" formGroupName="{{i}}">
                        <span class="h-7 w-7 text-label text-center">{{ i + 1 }}.</span>
                        <div class="nxt_input flex flex-col w-full mt-1">
                            <label class="nxt_input_label my-2 text-sm leading-none" [for]="'token_sn' + i">Token ID</label>
                            <div class="relative flex items-center">
                                <input type="text" formControlName="token_sn" [id]="'token_sn' + i" class="nxt_input_field w-full p-2 border rounded focus:outline-none text-sm font-medium leading-none disabled:pointer-events-none" placeholder="" />
                            </div>
                        </div>
                        <button class="ml-2 p-2 bg-secondary text-red-500 rounded shadow-lg" (click)="removeToken(element.value.token_id)">
                            <div class="h-6 w-6">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>
                            </div>
                        </button>
                    </div>
                </div>
                <div class="nxt_input flex flex-col w-full mt-1">
                    <label class="nxt_input_label my-2 text-sm leading-none" for="token_description">Bemerkungen</label>
                    <div class="relative flex items-center">
                        <textarea type="text" formControlName="token_description" id="token_description" class="nxt_input_field w-full p-2 border rounded focus:outline-none text-sm font-medium leading-none disabled:pointer-events-none" placeholder="" rows="3"></textarea>
                    </div>
                </div>
            </mat-tab>
            <mat-tab [label]="'EndgerÃ¤te (' + getEndgeraeteArrayLength() + ')'">
                <div class="flex flex-row-reverse">
                    <button class="p-2 bg-secondary text-accent rounded shadow-lg" (click)="addEndgeraet()">
                        <div class="h-6 w-6">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" fill="none"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6" /></svg>
                        </div>
                    </button>
                </div>
                <div class="flex flex-col" formArrayName="endgeraete">
                    <div class="flex flex-row items-end" *ngFor="let element of endgeraeteArray.controls; let i = index" formGroupName="{{i}}">
                        <span class="h-7 w-7 text-label text-center">{{ i + 1 }}.</span>
                        <div class="grow grid sm:grid-cols-3 gap-2">
                            <div class="nxt_input flex flex-col w-full mt-1">
                                <label class="nxt_input_label my-2 text-sm leading-none" [for]="'imei' + i">IMEI</label>
                                <div class="relative flex items-center">
                                    <input type="text" formControlName="imei" [id]="'imei' + i" class="nxt_input_field w-full p-2 border rounded focus:outline-none text-sm font-medium leading-none disabled:pointer-events-none" placeholder="" />
                                </div>
                            </div>
                            <div class="nxt_input flex flex-col w-full mt-1">
                                <label class="nxt_input_label my-2 text-sm leading-none" [for]="'rufnummer' + i">Rufnummer</label>
                                <div class="relative flex items-center">
                                    <input type="text" formControlName="rufnummer" [id]="'rufnummer' + i" class="nxt_input_field w-full p-2 border rounded focus:outline-none text-sm font-medium leading-none disabled:pointer-events-none" placeholder="" />
                                </div>
                            </div>
                            <div class="nxt_input flex flex-col w-full mt-1">
                                <label class="nxt_input_label my-2 text-sm leading-none" [for]="'pin' + i">PIN</label>
                                <div class="relative flex items-center">
                                    <input type="text" formControlName="pin" [id]="'pin' + i" class="nxt_input_field w-full p-2 border rounded focus:outline-none text-sm font-medium leading-none disabled:pointer-events-none" placeholder="" />
                                </div>
                            </div>
                        </div>
                        <button class="ml-2 h-10 w-10 p-2 bg-secondary text-red-500 rounded shadow-lg" (click)="removeEndgeraet(element.value.endgeraet_id)">
                            <div class="h-6 w-6">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>
                            </div>
                        </button>
                    </div>
                </div>
                <div class="nxt_input flex flex-col w-full mt-1">
                    <label class="nxt_input_label my-2 text-sm leading-none" for="endgeraete_description">Bemerkungen</label>
                    <div class="relative flex items-center">
                        <textarea type="text" formControlName="endgeraete_description" id="endgeraete_description" class="nxt_input_field w-full p-2 border rounded focus:outline-none text-sm font-medium leading-none disabled:pointer-events-none" placeholder="" rows="3"></textarea>
                    </div>
                </div>
            </mat-tab>
        </mat-tab-group>
    </form>
    <hr class="mt-4 h-px bg-light border-none">
    <!-- <pre class="m-2 p-2 bg-blue-200 rounded">{{ contentForm.value | json }}</pre> -->
</div>